@if (showConfirm()) {
  <app-confirm
    [ride]="true"
    [data]="data!.rideId"
    (changed)="onChangeDelete($event)"
    (yesDelete)="onChangeYesDelete($event)"
  />
}

<div class="wrapper">
  <h3 class="title">Ride {{ data?.rideId }}</h3>
  <svg
    viewBox="64 64 896 896"
    focusable="false"
    fill="currentColor"
    data-icon="delete"
    aria-hidden="true"
    class="delete icon"
    (click)="handleClickDelete()"
  >
    <path
      class="trash"
      d="M864 256H736v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zm-200 0H360v-72h304v72z"
    ></path>
  </svg>
  <div>
    @for (item of data?.segments; track $index) {
      <app-ride-info-content
        [index]="$index"
        [name]="(stationName$ | async)?.[$index]"
        [segment]="item"
        [pos]="
          $index === 0
            ? 'start'
            : (data?.segments || []).length - 1 === $index
              ? 'finish'
              : ''
        "
        (changed)="onChangeData($event)"
      />
    }
  </div>
</div>
